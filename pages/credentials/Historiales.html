<h1>Credenciales en Historiales</h1>

<p>
    Existen ciertos comandos en los que se introducen las credenciales en texto plano directamente como par√°metro y este comando a su vez 
    queda almacenado en historiales sin que el propio usuario le de la suficiente importancia.
</p>


<h2><i class="bi bi-check-circle me-2"></i>Historial PowerShell</h2>
<p class="mainComment">
    Comando para buscar credenciales dentro del historial de powershell.
</p>
<!-- Code snipet-->
<div class="snipet_custom position-relative">
<pre class="code_snipet code_powershell"><code data-language="shell">#Fichero de historial de PowerShell
dir $env:APPDATA\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt
#Buscar dentro con powershell
cat (Get-PSReadlineOption).HistorySavePath | Select-String passw
</code></pre>
</div>
<!-- Code-->



<h2><i class="bi bi-check-circle me-2"></i>Historial Consola</h2>
<p class="mainComment">
    Comando para buscar credenciales dentro del historial de la consola.
</p>
<!-- Code snipet-->
<div class="snipet_custom position-relative">
<pre class="code_snipet code_powershell"><code data-language="shell">#Fichero de historial cmd
dir $env:USERPROFILE\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt
#Buscar dentro de fichero com comd
cat $env:USERPROFILE\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadline\ConsoleHost_history.txt | Select-String passw
</code></pre>
</div>
<!-- Code-->



<h2><i class="bi bi-check-circle me-2"></i>Comandos Recientes (Win+R)</h2>
<p class="mainComment">
    Comando para mostrar el historial de comandos recientes del usuario actual.
</p>
<!-- Code snipet-->
<div class="snipet_custom position-relative">
<pre class="code_snipet code_powershell"><code data-language="shell">foreach ($p in $property) {Write-Host "$((Get-Item "HKCU:\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\RunMRU"-ErrorAction SilentlyContinue).getValue($p))"}
</code></pre>
</div>
<!-- Code-->



<h2><i class="bi bi-check-circle me-2"></i>Otros</h2>
<p class="mainComment">
    Regisro de Transcript PowerShell.
</p>
<!-- Code snipet-->
<div class="snipet_custom position-relative">
<pre class="code_snipet"><code data-language="shell">reg query HKCU:\Software\Policies\Microsoft\Windows\PowerShell\Transcription
reg query HKLM:\Software\Policies\Microsoft\Windows\PowerShell\Transcription
</code></pre>
</div>
<!-- Code-->
